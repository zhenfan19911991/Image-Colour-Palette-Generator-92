<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Document</title>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" rel="stylesheet">


</head>
<body>

<div class="container mb-5">
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
        <a class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none" href="/">
            <img class='mx-2' height='30' src='/static/assets/wheel.png' width='30'>
            <span class="fs-4">Image Color Generator</span>
        </a>

    </header>

    <h4 style="text-align: center;">Upload your image</h4>

    <form action='/' method="post" enctype="multipart/form-data">
        <div class="input-group mb-3">
            <input class="form-control" id="inputGroupFile02" name='file' type="file">
            <button class="btn btn-outline-secondary" name='upload_img' type="submit">Upload</button>
        </div>
    </form>
    {% with messages = get_flashed_messages() %}
                {% if messages %}
                {% for message in messages %}
                <p style="color:red">{{ message }}</p>
                {% endfor %}
                {% endif %}
                {% endwith %}
</div>

<div class="container mb-5">
    {% if image!='': %}

    <div class="text-center mb-5">
        <img alt="uploaded-img" class="rounded" src={{image}} width='600'>
    </div>


<h5>Top 10 most common colors in this image:</h5>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col" style="width:20%;">Color</th>
            <th scope="col">Color Code</th>
            <th scope="col">Percentage</th>
        </tr>
        </thead>
        <tbody>
        {% for color in top_color:%}
        <tr>
            <th scope="row">{{top_color.index(color)+1}}</th>
            <td style="background-color: {{color[0]}};"></td>
            <td>{{color[0]}}</td>
            <td>{{color[1]}}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

{% endif %}

</div>


<script crossorigin="anonymous"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>